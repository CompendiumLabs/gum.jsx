# Symbolic Elements

## SymPoints

*Inherits*: **Group** > **Element**

Flexible interface to generate sets of points symbolically or in combination with fixed inputs. The most common usage is to specify the range for x-values with `xlim` and a function to plot with `fy`. But you can specify the transpose with `ylim`/`fx`, or do a fully parametric path using `tlim`/`fx`/`fy`.

You can also specify the radius of the points functionally with `size` and the shape with `shape`. Both of these functions take `(x, y, t, i)` values as inputs and return the desired value for each point.

Parameters:
- `fx`/`fy` — a function mapping from x-values, y-values, or t-values
- `size` = `0.025` — a size or a function mapping from `(x, y, t, i)` values to a size
- `shape` = `Dot` — a shape or function mapping from `(x, y, t, i)` values to a shape
- `xlim`/`ylim`/`tlim` — a pair of numbers specifying variable limits
- `xvals`/`yvals`/`tvals` — a list of x-values, y-values, or t-values to use
- `N` — number of data points to generate when using limits

**Example**

Prompt: A plot of a sine wave in blue. There are white pill shaped line markers along the sine wave that are rotated to follow the slope of the curve.

Generated code:
```jsx
const Pill = args => <Rect fill={white} rounded={0.3} aspect={2} {...args} />
return <Plot xlim={[0, 2*pi]} ylim={[-1.5, 1.5]} grid fill={lightgray} margin={[0.25, 0.1]} aspect="auto">
  <SymLine fy={sin} stroke={blue} stroke-width={2} />
  <SymPoints fy={sin} size={0.125} N={11} shape={x => <Pill spin={-r2d*atan(cos(x))}/>} />
</Plot>
```

## SymLine

*Inherits*: **Line** > **Element**

Flexible interface to generate two-dimensional paths symbolically or in combination with fixed inputs. There are variety of acceptable input combinations, but the most common usage is to specify the range to use for x-values with `xlim` and a function to plot with `fy`. To plot a polygon instead of a line, use **SymShape**.

Alternatively, you can specify the transpose with `ylim`/`fx`, or even do a fully parametric path using `tlim`/`fx`/`fy`. In any of these cases, one can either specify limits with `xlim`/`ylim`/`tlim` or specific values with `xvals`/`yvals`/`tvals`.

You'll often want to use **Plot** to display these curves, as they might otherwise come out looking upside down relative to what you expect (as higher y-values mean "down" in raw SVG).

Parameters:
- `fx`/`fy` — a function mapping from x-values, y-values, or t-values
- `xlim`/`ylim`/`tlim` — a pair of numbers specifying variable limits
- `xvals`/`yvals`/`tvals` — a list of x-values, y-values, or t-values to use
- `N` — number of data points to generate when using limits

**Example**

Prompt: plot two lines: (1) a sine wave in red; (2) the same sine wave with a lower amplitude higher frequency sine wave added on top (in blue)

Generated code:
```jsx
<Plot xlim={[0, 2*pi]} ylim={[-1.5, 1.5]} aspect={phi} margin={0.2} grid>
  <SymLine fy={sin} stroke={red} stroke-width={2} />
  <SymLine fy={x => sin(x) + 0.2*sin(5*x)} stroke={blue} stroke-width={2} />
</Plot>
```

## SymShape

*Inherits*: **Shape** > **Pointstring** > **Element**

Flexible interface to generate shapes symbolically or in combination with fixed inputs. Operates similarly to **Shape**, but generates a shape from the points generated by `fx`/`fy`.

Parameters:
- `fx`/`fy` — a function mapping from x-values, y-values, or t-values
- `xlim`/`ylim`/`tlim` — a pair of numbers specifying variable limits
- `xvals`/`yvals`/`tvals` — a list of x-values, y-values, or t-values to use
- `N` — number of data points to generate when using limits

**Example**

Prompt: Draw a rounded star shape with a blue fill. Wrap it in a rounded frame.

Generated code:
```jsx
const rad = t => 1 - 0.3 * cos(2.5 * t)**2
return <Frame rounded padding margin>
  <SymShape aspect fill={blue}
    tlim={[0, 2*pi]} N={200}
    fx={t => rad(t) * sin(t)}
    fy={t => rad(t) * cos(t)}
  />
</Frame>
```

## SymSpline

*Inherits*: **Spline** > **Path** > **Element**

Flexible interface to generate smooth two-dimensional spline curves symbolically or in combination with fixed inputs. Similar to **SymLine**, but produces smooth cardinal splines instead of straight line segments. See **Spline** for more details on the `curve` parameter.


Parameters:
- `fx`/`fy` — a function mapping from x-values, y-values, or t-values
- `xlim`/`ylim`/`tlim` — a pair of numbers specifying variable limits
- `xvals`/`yvals`/`tvals` — a list of x-values, y-values, or t-values to use
- `N` — number of data points to generate when using limits
- `curve` = `0.5` — tension parameter that scales the tangent vectors

**Example**

Prompt: smooth damped oscillation using sparse sampling (N=10)

Generated code:
```jsx
// shows how spline interpolates between discrete function samples
// display the true function in gray with low opacity
const decay = x => exp(-x/2) * sin(3*x)

return <Plot xlim={[0, 2*pi]} ylim={[-1, 1]} grid margin={0.15} aspect={phi}>
  <SymLine fy={decay} opacity={0.25} N={200} />
  <SymSpline fy={decay} N={10} stroke={blue} stroke-width={2} />
  <SymPoints fy={decay} N={10} size={0.05} fill={red} />
</Plot>
```

## SymFill

*Inherits*: **Polygon** > **Element**

Flexible interface to generate filled in paths symbolically or in combination with fixed inputs. This generates a polygon by running through the points generated by `fx1`/`fy1` and then backwards through the points generated by `fx2`/`fy2`. To generate a simple filled curve, pass your function to `fy1` and let `fy2` be `0`.

Parameters:
- `fx1`/`fy1` — a function generating one of the bounds for the fill (or a constant)
- `fx2`/`fy2` — a function generating the other bound for the fill (or a constant)
- `xlim`/`ylim`/`tlim` — a pair of numbers specifying variable limits
- `xvals`/`yvals`/`tvals` — a list of x-values, y-values, or t-values to use
- `N` — number of data points to generate when using limits

**Example**

Prompt: a decaying sine wave filled in with blue

Generated code:
```jsx
const decay = x => exp(-0.1*x) * sin(x)
return <Graph xlim={[0, 6*pi]} ylim={[-1, 1]} aspect={phi}>
  <SymFill fy1={decay} fy2={0} fill={blue} fill-opacity={0.5} N={250} />
  <SymLine fy={decay} N={250} />
</Graph>
```
